<script>
const wss = "wss://(WSS_TO_SSRWSS)/(PORT_TO_WSS)";
const url = window.location.href;
const iframe = document.getElementById('view');
const ws = WebSocket(wss);
ws.on('open', () => {
    ws.send('google.com');
});
ws.on('message', (message) => {
    iframe.window.location.href = message;
});
if(url.includes("?q=")) {
    searchEngineQuery = extractUrl(url);
    if(searchEngineQuery.includes("https://") {
        searchEngineQuery.replace("https://","");
    } else {
        searchEngineQuery.replace("http://","");
    }
    ws.send(searchEngineQuery);
}
function extractUrl(url) {
    var matches = url.match(/?q=([^&]*)/);
    return matches ? matches[1] : '';
};
</script>
<html>
    <iframe policy-referrer="no-referrer" id="view" src=""></iframe>
</html>
<style>
#view {
    position: absolute;
    margin: 0;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
}
</style>
